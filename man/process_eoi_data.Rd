% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/parse_eoi.R
\name{process_eoi_data}
\alias{process_eoi_data}
\title{Process EOI Data by Preferred Units}
\usage{
process_eoi_data(df, unit_list, save_path)
}
\arguments{
\item{df}{A data frame or tibble; the EOI data to be processed. Must contain
a column named 'preferred_units'.}

\item{unit_list}{A character vector of unique unit codes to filter by.
Typically generated by \code{\link{eoi_extract}}.}

\item{save_path}{A character string; the path to the main output directory
where unit-specific subdirectories and CSV files will be created.}
}
\value{
Invisibly returns a list of data frames, where each element is named
after a unit code and contains the filtered data for that unit.
}
\description{
Filters Expression of Interest (EOI) data based on a list of unique
preferred units of study. For each unit, it creates a subset of the EOI
data containing applicants who listed that unit. Each subset is then saved
as a CSV file in a unit-specific subdirectory within a main output directory.
}
\examples{
\dontrun{
# mock_eoi_data <- data.frame(
#   surname = c("Smith", "Doe", "Chan"),
#   preferred_units = c("INFO1111, COMP2222", "INFO1111, DATA3333", "COMP2222"),
#   stringsAsFactors = FALSE
# )
# mock_units <- c("INFO1111", "COMP2222", "DATA3333")
# temp_output_dir <- tempfile("eoi_output_")
# # dir.create(temp_output_dir) # process_eoi_data creates it
#
# filtered_results <- process_eoi_data(mock_eoi_data, mock_units, temp_output_dir)
#
# list.files(temp_output_dir, recursive = TRUE)
# # Should show files like:
# # INFO1111/INFO1111_data.csv
# # COMP2222/COMP2222_data.csv
# # DATA3333/DATA3333_data.csv
#
# unlink(temp_output_dir, recursive = TRUE) # Clean up
}
}
