% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/parse-eoi.R
\name{process_eoi_data}
\alias{process_eoi_data}
\title{Process EOI Data by Preferred Units}
\usage{
process_eoi_data(df, unit_list)
}
\arguments{
\item{df}{A data frame or tibble; the EOI data to be processed. Must contain
a column named 'preferred_units'.}

\item{unit_list}{A character vector of unique unit codes to filter by.
Typically generated by \code{\link{eoi_extract}}. Can be NULL or empty,
in which case an empty list is returned.}
}
\value{
A named list of data frames, where each element is named
after a unit code and contains the filtered EOI data for that unit.
The list can be passed to \code{\link{prepare_eoi}} for archiving.
Returns an empty list if \code{df} is empty, or if \code{unit_list} is NULL or empty.
}
\description{
Filters Expression of Interest (EOI) data based on a list of unique
preferred units of study. For each unit, it creates a subset of the EOI
data containing applicants who listed that unit.
}
\examples{
\dontrun{
mock_eoi_data <- data.frame(
  surname = c("Smith", "Doe", "Chan", "Lee"),
  preferred_units = c("INFO1111, COMP2222", "INFO1111, DATA3333", "COMP2222", NA_character_),
  stringsAsFactors = FALSE
)
mock_units <- c("INFO1111", "COMP2222", "DATA3333", "PHYS1001") # PHYS1001 not in data

# Process data
processed_data <- process_eoi_data(mock_eoi_data, mock_units)
print(names(processed_data)) # Expected: "INFO1111" "COMP2222" "DATA3333" "PHYS1001"
print(processed_data$INFO1111) # Smith, Doe
print(processed_data$COMP2222) # Smith, Chan
print(processed_data$DATA3333) # Doe
print(processed_data$PHYS1001) # Empty data frame

# Example with empty unit list
processed_empty_units <- process_eoi_data(mock_eoi_data, character(0))
print(length(processed_empty_units)) # Expected: 0

# Example with empty data frame
processed_empty_df <- process_eoi_data(mock_eoi_data[0, ], mock_units)
print(length(processed_empty_df)) # Expected: 0
}
}
